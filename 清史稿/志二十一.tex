\article{志二十一}

\begin{pinyinscope}
時憲二

△推步算術

推步新法所用者，曰平三角形，曰弧三角形，曰橢圓形。今撮其大旨，證立法之原，驗用數之實，都為一十六術，著於篇。

平三角形者，三直線相遇而成。其線為邊，兩線所夾空處為角。有正角，當全圓四分之一，如甲乙丙形之甲角。有銳角，不足四分之一，如乙、丙兩角。有鈍角，過四分之一，如丁戊己形之戊角。圖形尚無資料

角之度無論多寡，皆有其相當之八線。曰正弦、正矢、正割、正切，所有度與九十度相減餘度之四線也，如甲乙為本度，則丙乙為餘度。正弦乙戊，正矢甲戊，正割庚丁，正切庚甲，餘弦乙己，餘矢丙己，餘割辛丁，餘切辛丙。若壬癸為本度，則丑癸為餘度，正弦癸辰，正矢壬辰，餘弦癸卯，餘矢丑卯，餘割子寅，餘切丑寅。以壬癸過九十度無正割、正切，借癸午之子未為正割，午未為正切。若正九十度丑壬為本度，則無餘度，醜子半徑為正弦，壬子半徑為正矢，亦無正割、正切，並無餘弦、餘矢、餘割、餘切。

古定全圓周為三百六十度，四分之一稱一象限，為九十度。每度六十分，每分六十秒，每秒六十微。圓半徑為十萬，後改千萬。逐度逐分求其八線，備列於表。推算三角，在九十度內，欲用某度某線，就表取之，算得某線。欲知某度，就表對之。過九十度者，欲用正弦、正割、正切及四餘，以其度與半周相減餘，就表取之。欲用正矢，取餘弦加半徑為之。既得某線，欲知某度，就表對得其度與半周相減餘命之。

圖形尚無資料

算平三角凡五術：

一曰對邊求對角，以所知邊為一率，對角正弦為二率，所知又一邊為三率，二三相乘，一率除之，求得四率，為所不知之對角正弦。如圖甲乙為所知邊，丁角為所知對角，乙丁為所知又一邊，甲角為所不知對角也。此其理系兩次比例省為一次。如圖乙丁為半徑之比，乙丙為丁角正弦之比。法當先以半徑為一率，丁角正弦為二率，乙丁為三率，求得四率中垂線乙丙。既得乙丙，甲乙為半徑之比，乙丙又為甲角正弦之比。乃以甲乙為一率，乙丙為二率，半徑為三率，求得四率，自為甲角正弦。然後合而算之，以先之一率半徑與後之一率甲乙相乘為共一率，先之二率丁角正弦與後之二率乙丙相乘為共二率，先之三率乙丁與後之三率半徑相乘為共三率，求得四率，自為先之四率乙丙與後之四率甲角正弦相乘數，仍當以乙丙除之，乃得甲角正弦。後既當除，不如先之勿乘。共二率內之乙丙與三率相乘者也，乘除相報，乙丙宜省。又共三率內之半徑與二率相乘者也，共一率內之半徑又主除之，乘除相報，半徑又宜省。故徑以甲乙為一率，丁角正弦為二率，乙丁為三率，求得四率，為甲角正弦。

二曰對角求對邊，以所知角正弦為一率，對邊為二率，所知又一角正弦為三率，求得四率，為所不知對邊。此其理具對邊求對角，反觀自明。

三曰兩邊夾一角求不知之二角，以所知角旁兩邊相加為一率，相減餘為二率，所知角與半周相減，餘為外角，半之，取其正切為三率，求得四率，為半較角正切。對表得度，與半外角相加，為對所知角旁略大邊之角；相減，餘為對所知角旁略小邊之角。此其理一在平三角形。三角相並，必共成半周。如圖甲乙丙形，中垂線甲丁，分為兩正角形。正角為長方之半，長方四角皆正九十度，正角形兩銳角斜剖長方，此角過九十度之半幾何，彼角不足九十度之半亦幾何，一線徑過，其勢然也。故甲右邊分角必與乙角合為九十度，甲左邊分角必與丙角合為九十度。論正角形各加丁角，皆成半周，合為銳角形。除去丁角，三角合亦自為半周。故既知一角之外，其餘二角雖不知各得幾何度分，必知其共得此角減半周之餘也。一在三角同式形比例。如圖丙庚戊形，知丙庚、丙戊兩邊及丙角。展丙庚為丙甲，連丙戊為甲戊，兩邊相加。截丙戊於丙丁，為戊丁，兩邊相減餘。作庚丁虛線，丙庚、丙丁同長，庚丁向圓內二角必同度，是皆為丙角之半外角，與甲辛、辛庚之度等。而庚向圓外之角，即本形庚角大於戊角之半，是為半外角。以庚丁為半徑之比，則甲庚即為丁半外角正切之比。半徑與正切恆為正角，甲庚與庚丁圓內作兩通弦，亦無不成正角故也。又作丁己線，與甲庚平行，庚丁仍為半徑之比，丁己又為庚向圓外半較角正切之比。而戊甲庚大形與戊丁己小形，戊甲、戊丁既在一線，甲庚、丁己又系平行，自然同式。故甲戊兩邊相加為一率，戊丁兩邊相減餘為二率，甲庚半外角正切為三率，求得四率，自當丁己半較角正切也。

四曰兩角夾一邊求不知之一角，以所知兩角相並，與半周相減，餘即得。此其理具兩邊夾一角。

五曰三邊求角，以大邊為底，中、小二邊相並相減，兩數相乘，大邊除之，得數與大邊相加折半為分底大邊，相減餘折半為分底小邊。乃以中邊為一率，分底大邊為二率，半徑為三率，求得四率，為對小邊角餘弦。或以小邊為一率，分底小邊為二率，半徑為三率，求得四率，為對中邊角餘弦。此其理在勾股弦冪相求及兩方冪相較。如圖甲丙中邊、甲乙小邊皆為弦，乙丙大邊由丁分之，丁丙、丁乙皆為勾，中垂線甲丁為股。勾股冪相並恆為弦冪，今甲丁股既兩形所同，則甲丙大弦冪多於甲乙小弦冪，即同丙丁大勾冪多於乙丁小勾冪。又兩方冪相較，恆如兩方根和較相乘之數。如圖戊寅壬庚為大方冪，減去己卯辛庚小方冪，餘戊己卯辛壬寅曲矩形。移卯癸壬辛為癸寅丑子，成一直方形，其長戊丑，自為大方根戊寅、小方根卯辛之和；其闊戊己，自為大方根戊庚、小方根己庚之較。故甲乙丙形，甲丙、甲乙相加為和，相減為較。兩數相乘，即如丙丁、丁乙和較相乘之數。丙乙除之，自得其較。丙午相加相減各折半，自得丙丁及乙丁，既得丙丁、乙丁，各以丙甲、乙甲為半徑之比，丙丁、乙丁自為餘弦之比矣。

此五術者，有四不待算，一不可算。對邊求對角，令所知兩邊相等，則所求角與所知角必相等。對角求對邊，令所知兩角相等，則所求邊與所知邊必相等。兩邊夾一角，令所知兩邊相等，則所求二角必正得所知外角之半。三邊求角，令二邊相等，即分不等者之半為底邊；三邊相等，即平分半周三角皆六十度，皆不待算也。若對邊求對角，所知一邊數少，對所知一角銳；又所知一邊數多，求所對之角，不能知其為銳、為鈍，是不可算也。諸題求邊角未盡者，互按得之。

弧三角形者，三圓周相遇而成，其邊亦以度計。九十度為足，少於九十度為小，過九十度為大。其角銳、鈍、正與平三角等。算術有七：

一曰對邊求對角，以所知邊正弦為一率，對角正弦為二率，所知又一邊正弦為三率，求得四率，為所求對角正弦。此其理亦系兩次比例省為一次。如圖甲乙丙形，知甲乙、丙乙二邊及丙角，求甲角。作乙辛垂弧，半徑與丙角正弦之比，同於乙丙正弦與乙辛正弦之比。法當以半徑為一率，丙角正弦為二率，乙丙正弦為三率，求得四率，為乙辛正弦。既得乙辛正弦，甲乙正弦與乙辛正弦之比，同於半徑與甲角正弦之比。乃以甲乙正弦為一率，乙辛正弦為二率，半徑為三率，求得四率，為甲角正弦。然乘除相報，可省省之。

二曰對角求對邊，以所知角正弦為一率，對邊正弦為二率，所知又一角正弦為三率，求得四率，為所求對邊正弦。此其理反觀自明。

三曰兩邊夾一角，或銳或鈍，求不知之一邊。以半徑為一率，所知角餘弦為二率，任以所知一邊正切為三率，求得四率，命為正切。對表得度，與所知又一邊相減，餘為分邊。乃以前得度餘弦為一率，先用邊餘弦為二率，分邊餘弦為三率，求得四率，為不知之邊餘弦。原角鈍，分邊大，此邊小；分邊小，此邊大。原角銳，分邊小，此邊小；分邊大，此邊大。此其理系三次比例省為二次。如圖甲丙丁形，知甲丙、甲丁二邊及甲角，中作垂弧丙乙，半徑與甲角餘弦之比，同於甲丙正切與甲乙正切之比。先一算為易明。既分甲丁於乙，而得丁乙分邊，甲乙餘弦與半徑之比，同於甲丙餘弦與丙乙餘弦之比。法當先以甲乙餘弦為一率，半徑為二率，甲丙餘弦為三率，求得四率，為丙乙餘弦。既得丙乙餘弦，半徑與乙丁餘弦之比，同於丙乙餘弦與丁丙餘弦之比。乃以半徑為一率，乙丁餘弦為二率，丙乙餘弦為三率，求得四率，為丁丙餘弦。然而乘除相報，故從省。兩邊夾一角若正，則徑以所知兩邊餘弦相乘半徑除之，即得不知邊之餘弦，理自明也。所知兩邊俱大俱小，此邊小；所知兩邊一小一大，此邊大。

四曰兩角夾一邊，求不知之一角。以角為邊，以邊為角，反求之；得度，反取之；求、取皆與半周相減。

五曰所知兩邊對所知兩角，或銳、或鈍，求不知之邊角。以半徑為一率，任以所知一角之餘弦為二率，對所知又一角之邊正切為三率，求得四率，命為正切，對表得度。復以所知又一角、一邊如法求之，復得度。視原所知兩角銳、鈍相同，則兩得度相加；不同，則兩得度相減；皆加減為不知之邊。乃按第一術對邊求對角，即得不知之角。原又一角鈍，對先用角之邊大於後得度，此角鈍；對先用角之邊小於後得度，此角銳。原又一角銳，對先用角之邊小於後得度，此角鈍；對先用角之邊大於後得度，此角銳。此其理系垂弧在形內與在形外之不同，及角分銳鈍，邊殊大小，前後左右俯仰向背之相應。如圖甲乙丙形，甲乙二角俱銳，兩銳相向，故垂弧丙丁，從中取正，而在形內。己丙庚形，己庚二角俱鈍，兩鈍相向，故垂弧戊丙亦在形內。庚丙乙形，庚乙兩角，一銳一鈍相違，垂弧丙丁，從外補正，自在形外。在形內者判底邊為二，兩得分邊之度，如乙丁、丁甲，合而成一底邊如乙甲，故宜相加。在形外者，引底邊之餘，兩得分邊之度，如庚丁、乙丁，重而不揜，底邊如庚乙，故宜相減。銳鈍大小之相應，亦如右圖審之。所知兩邊對所知兩角有一正，則一得度即為不知之邊，理亦自明。

六曰三邊求角，以所求角旁兩邊正弦相乘為一率，半徑自乘為二率，兩邊相減餘為較弧，取其正矢與對邊之正矢相減餘為三率，求得四率，為所求角正矢。此其理在兩次比例省為一次。如圖甲壬乙形，求甲角，其正矢為醜丁。法當以甲乙邊正弦乙丙為一率，半徑乙己為二率，兩邊較弧正矢乙癸與對邊正矢乙卯相減餘癸卯同辛子為三率，求得四率為壬辛。乃以甲壬邊正弦戊辛為一率，壬辛為二率，半徑己丁為三率，求得四率為醜丁。甲角正矢亦以乘除相報，故從省焉。

七曰三角或銳、或鈍求邊，以角為邊，反求其角；既得角，復取為邊；求、取皆與半周相減。此其理在次形，如圖甲乙丙形，甲角之度為丁戊，與半周相減為戊己，其度必同於次形子辛午之子辛邊，蓋丑卯為乙之角度丑點之交，甲乙弧必為正角，丁戊為甲之角度戊點之交，甲乙弧亦必為正角。以一甲乙而交丑辛、戊辛二弧皆成正角，則二弧必皆九十度，弧三角之勢如此也。戊辛既九十度，子己亦九十度，去相覆之戊子，己戊自同子辛，於是庚癸必同子午，卯未必同午辛，理皆如是矣。而此形之餘角既皆為彼形之邊，彼形餘角不得不為此形之邊，故反取之而得焉。若三角有一正，除正角外，以一角之正弦為一率，又一角之餘弦為二率，半徑為三率，求得四率，為對又一角之邊餘弦。此其理亦系次形，而以正角及一角為次形之角，以又一角加減象限為次形對角之邊，取象稍異。

凡茲七術，惟邊角相求，有銳鈍、大小不能定者，然推步無其題，不備列。此七題中求邊角有未盡者，互按得之。

橢圓形者，兩端徑長、兩腰徑短之圓面。然必其應規，乃可推算。作之之術，任以兩點各為心，一點為界，各用一針釘之，圍以絲線，末以鉛筆代為界之。針引而旋轉，即成橢圓形。如圖甲己午三點，如法作之，為醜午巳未橢圓，寅丑、寅巳為大半徑，寅午、寅未為小半徑，寅甲為兩心差，己甲為倍兩心差。甲午數如寅巳，亦同寅丑，己午如之；二數相和，恆與醜巳同。令午針引至申，甲申、申己長短雖殊，共數不易。甲午同大半徑之數如弦，兩心差如勾，小半徑如股，但知兩數，即可以勾股術得不知之一數。若求面積，以平方面率四００００００００為一率，平圓面率三一四一五九二六五為二率，大小徑相乘成長方面為三率，求得四率為橢圓面積。若求中率半徑，大小半徑相乘，平方開之即得。然自甲心出線，離丑右旋，如圖至戌，甲丑、甲戌之間，有所割之面積，亦有所當之角度。

角積相求，爰有四術：

一曰以角求積，以半徑為一率，所知角度正弦為二率，倍兩心差為三率，求得四率為倍兩心差之端，垂線如己酉。又以半徑為一率，所知角度餘弦為二率，倍兩心差為三率，求得四率為界度積線，引出之線如甲酉，倍兩心差之端垂線為勾自乘。以引出之線，與甲戌、己戌和如巳丑大徑者相加為股弦和，除之得較。和、較相加折半為己戌弦，與大徑相減為甲戌線。又以半徑為一率，所知角正弦為二率，甲戌線為三率，求得四率為戌亥邊。又以小徑為一率，大徑為二率，戌亥邊為三率，求得四率為辰亥邊。又以大半徑寅辰同寅丑為一率，半徑為二率，辰亥邊為三率，求得四率為正弦，對表得度。又以半周天一百八十度化秒為一率，半圓周三一四一五九二六為二率，所得度化秒為三率，求得四率為比例弧線。又以半徑為一率，大半徑為二率，比例弧線為三率，求得四率為辰丑弧線，與大半徑相乘折半，為寅辰丑分平圓面積。又以大半徑為一率，小半徑為二率，分平圓面積為三率，求得四率為寅戌丑分橢圓面積。乃以寅甲兩心差與戌亥邊相乘折半，與寅戌丑相減，為甲戌、甲丑之間所割面積。此其理具本圖及平三角、弧三角，其法至密。

二曰以積求角，以兩心差減大半徑餘得甲丑線自乘為一率，中率半徑自乘為二率，甲戌、甲丑之間面積為三率，求得四率為中率面積，如甲氐亢。分橢圓面積為三百六十度，取一度之面積為法除之，即得甲戌、甲丑之間所夾角度，此其理為同式形比例。然甲亢與甲氐同長，甲戌則長於甲丑，以所差不多，借為同數。若引戌至心，甲丑甲心所差實多，仍須用前法求甲戌線，借甲戌甲心相近為同數求之。

三曰借積求積，以所知面積，如圖之辛甲丑，用一度之面積為法除之，得面積之度。設其度為角度，於倍兩心差之端如庚己丑。以半徑為一率，己角正弦為二率，倍兩心差為三率，求得四率為甲子垂線。又以半徑為一率，己角餘弦為二率，倍兩心差為三率，求得四率為己子分邊。甲子為勾自乘，己子與大徑相減餘為股弦和，除之得股弦較。和、較相加折半得甲庚線。又以甲庚線為一率，甲子垂線為二率，半徑為三率，求得四率為庚角正弦，得度與己角相加為庚甲丑角。乃用以角求積法，求得庚甲醜面積，與辛甲醜面積相減餘如庚甲辛，又用以積求角法，求得度，與庚甲丑角相加，即得辛甲丑角。

四曰借角求角，以所知面積如前法取為積度，如醜甲丁。設其度為角度，於橢圓心如丁乙辛。以小半徑為一率，大半徑為二率，所設角度正切為三率，求得四率為丁乙癸角正切。對表得度，乃於倍兩心差之端丙作丙丑線，即命丑丙甲角如癸乙丁之角度，乃將丙丑線引長至寅，使醜寅與甲丑等，則丙寅同大徑。又作甲寅線，成甲寅丙三角形，用切線分外角法求得寅角，倍之為甲丙醜形之醜角，與丙角相加為醜甲丁角。此其理癸乙甲角度多於丑甲丁積度，為子乙癸角度。即以此度當前之補算辛甲庚者，蓋所差無多也。

此四術內凡單言半徑者，皆八線表一千萬之數。圖形尚無資料


\end{pinyinscope}